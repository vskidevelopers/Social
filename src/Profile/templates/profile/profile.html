{% extends 'base.html' %}
{% load static %}

{% block head %}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href={% static 'css/appearance.css' %}>
    {% endblock head %}


{% block extracont %}

<!-- MODAL -->
<div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Update Your Profile</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
      <div class="row">
        <div class="col-md-5">
          <img  width="100%" src="{{profile.avatar.url}}">
        </div>
        <div class="col-md-7">  
          <form action="" method="POST" class="ui form" enctype='multipart/form-data'>
            {% csrf_token %}
            {{form.as_p}}
        </div>
      </div>
    </div>
      <div class="modal-footer">
        <button type='submit' class="btn btn-outline-success">
          Update 
          <i class="checkmark icon"></i>
        </button>
        </form>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="theme-red">
    <div class="vg-page page-home" id="home" style="background-image: url({% static 'images/bg_image_1.jpg' %})">
  
      <!-- Caption header -->
      <div class="caption-header text-center wow zoomInDown">
        <h5 class="fw-normal">Hello There</h5>
        <h1 class="fw-light mb-4">I'm <b class="fg-theme">{{profile.first_name}}</b> {{profile.last_name}}</h1>
        <div class="badge">{{profile.year_of_study}} yr Student</div>

      </div>
    </div>
    <div class="container mt-5 mb-5" >
    <div class="ui segment ">
      {% if confirm %}
      <div class="alert alert-success alert-dismissible fade show" role="alert">
        Your profile has been updated
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
          
      {% endif %}
      <h3 class="fg-theme">my profile: {{request.user}}</h3>
      <hr>
      <div class="ui grid">
          <div class='row'>
              <div class='six wide column imgdiv'>
                  <img class="ui medium rounded image dp" src={{profile.avatar.url}}>
                  <div class="row mt-5 updatebtndiv">
                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target=".bd-example-modal-lg">Update your profile</button>  
                  </div>
              </div>
              <div class="ten wide column">
                  <table class="ui table">
                      <tbody>
                          <tr>
                              <td><strong class="fg-theme">username</strong></td>
                              <td>{{profile.user}}</td>
                          </tr>
                          <tr>
                              <td><strong class="fg-theme">first name</strong></td>
                              <td>{{profile.first_name}}</td>
                          </tr>
                          <tr>
                              <td><strong class="fg-theme">last name</strong></td>
                              <td>{{profile.last_name}}</td>
                          </tr>
                          <tr>
                              <td><strong class="fg-theme">bio</strong></td>
                              <td>{{profile.bio}}</td>
                          </tr>
                          <tr>
                              <td><strong class="fg-theme">number of friends</strong></td>
                              <td>{{profile.get_friends_count}}</td>
                          </tr>
                          <tr>
                            <td><strong class="fg-theme">Course</strong></td>
                            <td>{{profile.course}}</td>
                        </tr>
                        <tr>
                          <td><strong class="fg-theme">Level of Study</strong></td>
                          <td>{{profile.study_level}}</td>
                        </tr>

                          <tr>
                              <td><strong class="fg-theme">number of posts</strong></td>
                              <td>{{profile.get_posts_count}}</td>
                          </tr>
                        <tr>
                          <td><strong class="fg-theme">number of likes</strong></td>
                          <td>{{profile.get_likes_recived_count}}</td>
                      </tr>

                      </tbody>
                  </table>
              </div>
          </div>
      </div>
  </div>
</div>
</div>
  
{% endblock extracont %}
    

{% block scripts %}
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js" integrity="sha512-Eak/29OTpb36LLo2r47IpVzPBLXnAMPAVypbSZiZ4Qkf8p/7S/XRG5xp7OKWPPYfJT6metI+IORkR5G8F900+g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src={% static 'js/scripts.js' %}></script>
{% endblock scripts %}
    